<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Instalador de Bookmarklet</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f9fafb;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            flex-direction: column;
        }
        .card {
            background-color: white;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
            text-align: center;
            max-width: 600px;
        }
        h1 {
            color: #111827;
            margin-bottom: 10px;
        }
        p {
            color: #4b5563;
        }
        a.bookmarklet {
            display: inline-block;
            margin-top: 20px;
            background-color: #2563eb;
            color: white;
            padding: 12px 20px;
            border-radius: 12px;
            text-decoration: none;
            font-weight: bold;
            transition: background-color 0.3s;
        }
        a.bookmarklet:hover {
            background-color: #1d4ed8;
        }
        .instructions {
            margin-top: 20px;
            font-size: 14px;
            color: #6b7280;
        }
    </style>
</head>
<body>
    <div class="card">
        <h1>Instalar Bookmarklet</h1>
        <p>Arraste o botão abaixo para sua barra de favoritos.</p>
        <a class="bookmarklet" href="javascript:(function(){
          const e=document.createElement('div');
          e.style.position='fixed';
          e.style.top='0';
          e.style.left='0';
          e.style.width='100vw';
          e.style.height='100vh';
          e.style.backgroundColor='white';
          e.style.zIndex='999999';
          e.style.pointerEvents='none';
          document.body.appendChild(e);
          setTimeout(()=>{
            document.body.removeChild(e);
            function t(msg){
              msg = msg || '✅ Página recarregada!';
              const t_el = document.createElement('div'); /* Renomeei 't' para 't_el' para evitar conflito com nome da função */
              t_el.style.position = 'fixed';
              t_el.style.top = '20px';
              t_el.style.right = '20px';
              t_el.style.background = '#d1fae5';
              t_el.style.color = '#065f46';
              t_el.style.padding = '12px 18px';
              t_el.style.borderRadius = '12px';
              t_el.style.boxShadow = '0px 4px 12px rgba(0,0,0,0.1)';
              t_el.style.fontFamily = '&quot;Open Sans&quot;, sans-serif'; /* Codificado para HTML */
              t_el.style.fontSize = '14px';
              t_el.style.zIndex = '99999';
              t_el.style.border = '1px solid #a7f3d0';
              t_el.style.transition = 'opacity 0.5s ease';
              t_el.innerText = msg;
              document.body.appendChild(t_el);
              setTimeout(()=>{
                t_el.style.opacity = '0';
                setTimeout(()=>t_el.remove(), 500);
              }, 3500);
            }
            t(); /* Chama a função original 't' */
        
            const o = false;
            let n = null;
        
            function r(msg){
              if(o && n){
                n.innerText = msg;
              }
            }
        
            function i(label){
              const btn = document.querySelector(&quot;button[aria-label='&quot;+label+&quot;']&quot;); /* Codificado para HTML */
              if(btn && typeof btn.click === 'function' && !btn.disabled && btn.offsetParent !== null){
                btn.click();
                return true;
              }
              return false;
            }
        
            function a(label='Continuar'){
              return new Promise(resolve => {
                const observer = new MutationObserver(()=>{
                  const btn = document.querySelector(&quot;button[aria-label='&quot;+label+&quot;']&quot;); /* Codificado para HTML */
                  if(btn){
                    const clickHandler = ()=>{
                      btn.removeEventListener('click', clickHandler);
                      observer.disconnect();
                      resolve();
                    };
                    btn.addEventListener('click', clickHandler);
                  }
                });
                observer.observe(document.body, {childList:true, subtree:true});
                const btnNow = document.querySelector(&quot;button[aria-label='&quot;+label+&quot;']&quot;); /* Codificado para HTML */
                if(btnNow){
                  btnNow.addEventListener('click', ()=>{
                    btnNow.removeEventListener('click', arguments.callee);
                    observer.disconnect();
                    resolve();
                  });
                }
              });
            }
        
            async function c(seconds){
              for(let t_count=seconds; t_count>0; t_count--){ /* Renomeei variável de loop 't' para 't_count' */
                r('✅ Aguardando '+t_count+'s...');
                await new Promise(r_promise => setTimeout(r_promise, 1000)); /* Renomeei parâmetro 'r' da Promise */
              }
            }
        
            async function d(){
              await a();
              r('🚀 Script iniciado após clique manual!');
              let e_loop = true; /* Renomeei variável 'e' para 'e_loop' */
              while(e_loop){
                r('⏸️ Tentando pausar...');
                const paused = i('Pausar');
                if(paused){
                  await new Promise(r_promise => setTimeout(r_promise, 1000)); /* Renomeei parâmetro 'r' da Promise */
                  r('▶️ Tentando continuar...');
                  const continued = i('Continuar');
                  if(continued){
                    await c(20);
                  } else {
                    r('⚠️ Botão Continuar indisponível. Tentando em 5s...');
                    await c(5);
                  }
                } else {
                  r('⚠️ Botão Pausar indisponível. Tentando em 5s...');
                  await c(5);
                }
              }
            }
            d();
          }, 1000);
        })();">Arraste-me para a barra de favoritos (Versão Corrigida)</a>


        
        <div class="instructions">
            👉 Se não vê a barra de favoritos, ative ela no navegador (Ctrl+Shift+B).
        </div>
    </div>
</body>
</html>
