<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Instalador de Bookmarklet</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f9fafb;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            flex-direction: column;
        }
        .card {
            background-color: white;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
            text-align: center;
            max-width: 600px;
        }
        h1 {
            color: #111827;
            margin-bottom: 10px;
        }
        p {
            color: #4b5563;
        }
        a.bookmarklet {
            display: inline-block;
            margin-top: 20px;
            background-color: #2563eb;
            color: white;
            padding: 12px 20px;
            border-radius: 12px;
            text-decoration: none;
            font-weight: bold;
            transition: background-color 0.3s;
        }
        a.bookmarklet:hover {
            background-color: #1d4ed8;
        }
        .instructions {
            margin-top: 20px;
            font-size: 14px;
            color: #6b7280;
        }
    </style>
</head>
<body>
    <div class="card">
        <h1>Instalar Bookmarklet</h1>
        <p>Arraste o botão abaixo para sua barra de favoritos.</p>
        <a class="bookmarklet" href="javascript:(()=>{if(window.__meuScriptAtivo__)return;window.__meuScriptAtivo__=true;const e=document.createElement('div');e.style.position='fixed';e.style.top='0';e.style.left='0';e.style.width='100vw';e.style.height='100vh';e.style.backgroundColor='white';e.style.zIndex='999999';e.style.pointerEvents='none';document.body.appendChild(e);setTimeout(()=>{document.body.removeChild(e);(async()=>{function showMsg(msg='✅ Página recarregada!'){const div=document.createElement('div');div.style.position='fixed';div.style.top='20px';div.style.right='20px';div.style.background='#d1fae5';div.style.color='#065f46';div.style.padding='12px 18px';div.style.borderRadius='12px';div.style.boxShadow='0px 4px 12px rgba(0,0,0,0.1)';div.style.fontFamily='Open Sans, sans-serif';div.style.fontSize='14px';div.style.zIndex=999999;div.style.border='1px solid #a7f3d0';div.style.transition='opacity 0.5s ease';div.innerText=msg;document.body.appendChild(div);setTimeout(()=>{div.style.opacity='0';setTimeout(()=>div.remove(),500)},3500)}showMsg();function updateStatus(txt){statusDiv&&(statusDiv.innerText=txt)}function clickBtn(label){const btn=document.querySelector(`button[aria-label='${label}']`);if(btn&&typeof btn.click==='function'&&!btn.disabled&&btn.offsetParent!==null){btn.click();return true}return false}function waitButtonClick(label='Continuar'){return new Promise(resolve=>{const observer=new MutationObserver(()=>{const btn=document.querySelector(`button[aria-label='${label}']`);if(btn){const handler=()=>{btn.removeEventListener('click',handler);observer.disconnect();resolve()};btn.addEventListener('click',handler)}});observer.observe(document.body,{childList:true,subtree:true});const btn=document.querySelector(`button[aria-label='${label}']`);if(btn){const handler=()=>{btn.removeEventListener('click',handler);observer.disconnect();resolve()};btn.addEventListener('click',handler)}})}function sleep(t){return new Promise(r=>setTimeout(r,t))}async function countdown(s){for(let i=s;i>0;i--){updateStatus(`✅ Aguardando ${i}s...`);await sleep(1000)}}const statusDiv=document.createElement('div');statusDiv.style.position='fixed';statusDiv.style.bottom='20px';statusDiv.style.right='20px';statusDiv.style.background='#fef9c3';statusDiv.style.color='#78350f';statusDiv.style.padding='10px 16px';statusDiv.style.borderRadius='12px';statusDiv.style.boxShadow='0px 4px 12px rgba(0,0,0,0.1)';statusDiv.style.fontFamily='Open Sans, sans-serif';statusDiv.style.fontSize='14px';statusDiv.style.zIndex=999999;statusDiv.style.border='1px solid #fde68a';document.body.appendChild(statusDiv);await waitButtonClick();updateStatus('🚀 Script iniciado após clique manual!');while(true){updateStatus('⏸️ Tentando pausar...');const paused=clickBtn('Pausar');if(paused){await sleep(1000);updateStatus('▶️ Tentando continuar...');const continued=clickBtn('Continuar');if(continued){await countdown(20)}else{updateStatus('⚠️ Botão \"Continuar\" indisponível. Tentando em 5s...');await countdown(5)}}else{updateStatus('⚠️ Botão \"Pausar\" indisponível. Tentando em 5s...');await countdown(5)}}})();},1000)})();">💾 Ativar Bookmarklet</a>

        <div class="instructions">
            👉 Se não vê a barra de favoritos, ative ela no navegador (Ctrl+Shift+B).
        </div>
    </div>
</body>
</html>
